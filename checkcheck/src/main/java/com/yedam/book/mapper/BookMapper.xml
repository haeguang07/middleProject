<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.book.mapper.BookMapper">
<!-- private int isbn;
	private String bookName;
	private int bookPrice;
	private String author;
	private String publisher;
	private String bookCategory;
	private String bookDetail;
	private int bookCount;//판매량
	private int hitCount;//조회수
	private int bookStock;
	private String cover; -->
	<insert id="addbook" parameterType="book">
		insert into books values (#{isbn},#{bookName},#{bookPrice},#{author},#{publisher},#{bookCategory},#{bookDetail},#{bookCount},#{hitCount},#{bookStock},#{cover})
	</insert>
	<select id="mainRecommand" parameterType="String" resultType="book">
	<![CDATA[
		select rownum,a.*
		from (select * 
		from books
		where book_category like #{string}
		and book_name not like '%CD%'
		order by hitcount desc) a
		where rownum <6
		]]>
	</select>
</mapper>